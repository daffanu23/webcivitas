---
import Navbar from '../../components/Navbar.astro';
import Footer from '../../components/Footer.astro';
import AdminDashboardReact from '../../components/AdminDashboard.jsx'; // Panggil otak React
import '../../styles/global.css';

// Proteksi Server Side tetap di sini (Satpam Pintu Depan)
import { supabase } from '../../lib/supabase';
const { cookies, redirect } = Astro;
const accessToken = cookies.get("sb-access-token");
const refreshToken = cookies.get("sb-refresh-token");

// Kita biarkan saja pengecekan auth detail dilakukan oleh React (Client Side)
// agar loading state lebih mulus
---

<html lang="id">
<head>
    <title>Admin Dashboard | The Portal</title>
</head>
<body>
    <Navbar />

    <main class="container" style="padding-top: 40px;">
        <AdminDashboardReact client:only="react" />
    </main>

    <Footer />
</body>
</html>